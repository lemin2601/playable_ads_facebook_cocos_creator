window.__require=function t(e,n,i){function o(s,a){if(!n[s]){if(!e[s]){var c=s.split("/");if(c=c[c.length-1],!e[c]){var u="function"==typeof __require&&__require;if(!a&&u)return u(c,!0);if(r)return r(c,!0);throw new Error("Cannot find module '"+s+"'")}s=c}var l=n[s]={exports:{}};e[s][0].call(l.exports,function(t){return o(e[s][1][t]||t)},l,l.exports,t,e,n,i)}return n[s].exports}for(var r="function"==typeof __require&&__require,s=0;s<i.length;s++)o(i[s]);return o}({CAudio:[function(t,e,n){"use strict";cc._RF.push(e,"232c0/7U/pGL5sEqox0aXqB","CAudio");var i=t("GameFake").SoundType;cc.Class({extends:cc.Component,properties:{audioWelcome:{default:null,type:cc.AudioClip},audioDiscardStraight:{default:null,type:cc.AudioClip},audioDiscardFlush:{default:null,type:cc.AudioClip},audioDiscardCulu:{default:null,type:cc.AudioClip},soundDiscard:{default:null,type:cc.AudioClip},audioWin:{default:null,type:cc.AudioClip},soundCountDow:{default:null,type:cc.AudioClip}},ctor:function(){this.audioPool=[]},onLoad:function(){},start:function(){cc.log("play"),cc.audioEngine.getMaxAudioInstance();var t=cc.audioEngine.play(this.audioWelcome,!1,1);this.audioPool.push(t)},playAudio:function(t){switch(t){case i.FULL_HOUSE:cc.audioEngine.play(this.audioDiscardCulu,!1,1);break;case i.FLUSH:cc.audioEngine.play(this.audioDiscardFlush,!1,1);break;case i.STRAIGHT:cc.audioEngine.play(this.audioDiscardStraight,!1,1);break;case i.WELCOME:cc.audioEngine.play(this.audioWelcome,!1,1);break;case i.WIN:cc.audioEngine.play(this.audioWin,!1,1)}}}),cc._RF.pop()},{GameFake:"GameFake"}],CBtnDownload:[function(t,e,n){"use strict";cc._RF.push(e,"aa848opgmhMQKfD6xZOvgcV","CBtnDownload"),cc.Class({extends:cc.Component,properties:{},start:function(){},onTouch:function(){console.log("Touch Download"),FbPlayableAd&&FbPlayableAd.onCTAClick()}}),cc._RF.pop()},{}],CBtnStep1:[function(t,e,n){"use strict";cc._RF.push(e,"8d6d7ZBIxZHcYYuxM2WLEVS","CBtnStep1"),cc.Class({extends:cc.Component,properties:{btnStep2:cc.Button},start:function(){},onTouch:function(){console.log("touch step 1"),this.node.active=!1,this.btnStep2.node.active=!0}}),cc._RF.pop()},{}],CBtnStep2:[function(t,e,n){"use strict";cc._RF.push(e,"7a174h5XKVDDqPz6uctC+1/","CBtnStep2"),cc.Class({extends:cc.Component,properties:{btnStep3:cc.Button},onLoad:function(){this.node.active=!1},start:function(){},onTouch:function(){console.log("touch step 2"),this.node.active=!1,this.btnStep3.node.active=!0}}),cc._RF.pop()},{}],CBtnStep3:[function(t,e,n){"use strict";cc._RF.push(e,"bb4b83rgAhPLYZOZ/FJGXMT","CBtnStep3"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.node.active=!1},start:function(){},onTouch:function(){console.log("touch step 3"),t("PlayableAds").onCTAClick()}}),cc._RF.pop()},{PlayableAds:"PlayableAds"}],CCard:[function(t,e,n){"use strict";cc._RF.push(e,"34036kNa6RCAoMIlraaHio6","CCard");var i=t("Types"),o=i.Card;i.Rank,cc.Class({extends:cc.Component,properties:{point:cc.Label,suit:cc.Sprite,mainPic:cc.Sprite,cardBG:cc.Sprite,redTextColor:cc.Color.RED,blackTextColor:cc.Color.WHITE,texFrontBG:cc.SpriteFrame,texBackBG:cc.SpriteFrame,texFaces:{default:[],type:cc.SpriteFrame},texSuitBig:{default:[],type:cc.SpriteFrame},texSuitSmall:{default:[],type:cc.SpriteFrame},index:{default:0,type:cc.Integer,visible:!1},isSelected:{default:!1,visible:!1},owner:{default:null,type:cc.Node,visible:!1},isDraging:{default:!0,visible:!1},card:{default:null,type:o,visible:!1}},setOwner:function(t){this.owner=t},onLoad:function(){console.log("loadCard:"+this.card+"|"+this.index),this.card&&this.init(this.card),this.node.on(cc.Node.EventType.TOUCH_START,this.onTouch,this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.onTouch,this),this.node.on(cc.Node.EventType.TOUCH_END,this.onTouch,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.onTouch,this)},onEmit:function(){console.log("onEmit card:"+this.card.toString())},onTouch:function(t){if(this.owner){var e=new cc.Event.EventCustom("card-touch",!0);e.setUserData({card:this,event:t}),this.node.dispatchEvent(e)}else console.log("not found owner's card:"+this.id)},start:function(){this.node.dispatchEvent(new cc.Event.EventCustom("cardtouch",!0))},setCard:function(t){console.log("setCard:"+t+"|point:"+t.point+"|suit:"+t.suit),this.card=t},init:function(t){var e=8<=t.point&&t.point<=10;console.log("isFace:"+t.toString()+"|"+e),this.mainPic.spriteFrame=e?this.texFaces[t.point-9]:this.texSuitBig[t.suit],this.point.string=t.pointName,t.isRedSuit?this.point.node.color=this.redTextColor:this.point.node.color=this.blackTextColor,this.suit.spriteFrame=this.texSuitSmall[t.suit]},reveal:function(t){this.point.node.active=t,this.suit.node.active=t,this.mainPic.node.active=t,this.cardBG.spriteFrame=t?this.texFrontBG:this.texBackBG},setPositionCenter:function(t){this.node.setPosition(t.x-50,t.y-65)}});cc._RF.pop()},{Types:"Types"}],CCircleAvatar:[function(t,e,n){"use strict";cc._RF.push(e,"df8ceAeEYhFxZKP0qg+RXYg","CCircleAvatar"),cc.Class({extends:cc.Component,properties:{mask:cc.Mask,img:cc.Sprite},start:function(){},changeAvatar:function(t){this.img.spriteFrame=t}}),cc._RF.pop()},{}],CEffectWin:[function(t,e,n){"use strict";cc._RF.push(e,"c3f96EHNXtD9KukPp20CQBY","CEffectWin"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){},start:function(){}}),cc._RF.pop()},{}],CLayerGame:[function(t,e,n){"use strict";cc._RF.push(e,"9fbfbH6inNCBbIvpP5ZqCUf","CLayerGame"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.node.on("cardtouch",this.onEmit)},onEmit:function(){console.log("onEmit LayerCard")},start:function(){}}),cc._RF.pop()},{}],CPlayer:[function(t,e,n){"use strict";cc._RF.push(e,"c90b5cwF5ZKgbNi6oY6LKVY","CPlayer");t("Types");var i=t("Utility"),o=cc.Class({extends:cc.Component,properties:{avatar:cc.Node,displayName:cc.Label,gold:cc.Label,spriteAvatar:{default:[],type:[cc.SpriteFrame]},layerCard:{default:null,type:cc.Node},imgPass:{default:null,type:cc.Node}},ctor:function(){this.player=null,this.gameController=null,this.cards=[]},onLoad:function(){this.player?(this.displayName.string=this.player.name,this.gold.string=i.formatMoney(this.player.gold),this.avatar.getComponent("CCircleAvatar").changeAvatar(this.spriteAvatar[this.player.avatar]),this._loadCards()):console.error("need load setPlayer info onLoad");this.imgPass&&(this.imgPass.active=!1),this.node.on("card-touch",this.onTouchCard,this)},start:function(){},setGameController:function(t){this.gameController=t},setPlayer:function(t){this.player=t},updateUI:function(){},_loadCards:function(){if(this.gameController)for(var t=this.player.cards,e=0;e<t.length;e++){var n=t[e],i=this.gameController.getNewCard(),o=i.getComponent("CCard");o.setCard(n),o.index=e,o.setOwner(this);var r=this.getPositionCard(o),s=this.getRotationCard(o);i.setPosition(r),i.angle=-s,this.layerCard.addChild(i),this.cards.push(i)}else console.error("don't have GameControler in Player, so can't create newCard")},onDiscard:function(t){var e=[];if(this.player&&0===this.player.index){for(var n=function(e){for(var n=0;n<t.length;n++)if(e.id===t[n].id)return!0;return!1},i=this.cards.length-1;i>=0;i--){n((s=(r=this.cards[i]).getComponent("CCard")).card)&&(e.unshift(r),this.cards.splice(i,1),this.player.cards.splice(i,1))}this._updatePosCards()}else for(var o=0;o<t.length;o++){var r,s;(s=(r=this.gameController.getNewCard()).getComponent("CCard")).setCard(t[o]),r.angle=0,s.setPositionCenter(this.node.getPosition()),e.push(r),this.layerCard.addChild(r)}return e},_updatePosCards:function(){if(console.log("_updatePosCards"),this.gameController)for(var t=this.cards,e=0;e<t.length;e++){var n=t[e],i=n.getComponent("CCard");i.index=e;var o=this.getPositionCard(i),r=this.getRotationCard(i);n.setPosition(o),n.angle=-r}else console.error("don't have GameControler in Player, so can't create newCard")},getNumCard:function(){return this.player?this.player.cards.length:1},getRotationCard:function(t){var e=t.index;return this.getRotationVia(e)},getRotationVia:function(t){var e=this.getNumCard(),n=-60,i=(48-n)/(e-1);return i>12&&(i=12),(n+=(48-n-i*(e-1))/2)+i*t},getPositionCard:function(t){var e=t.index;return this.getPositionVia(e)},getPositionVia:function(t){var e=this.getNumCard(),n=-250,i=(250-n)/(e-1);return i>5&&(i=5),n+=(250-n-i*(e-1))/2,this.getCirclePos(new cc.Vec2(n+i*t,0))},getCirclePos:function(t){var e=t.x;return t.y=e*e*-.004-280,t},onPass:function(){this.imgPass&&(this.imgPass.active=!0,this.node.runAction(cc.sequence(cc.delayTime(2),cc.callFunc(function(){this.imgPass.active=!1}.bind(this)))))},onTouchCard:function(t,e,n){switch(t.type){case cc.Node.EventType.TOUCH_START:break;case cc.Node.EventType.TOUCH_MOVE:e.isDraging=!0;var i=e.node.getParent().convertToNodeSpaceAR(t.getLocation());e.node.setPosition(i);break;case cc.Node.EventType.TOUCH_END:e.isDraging=!1,e.isSelected=!e.isSelected,e.node.setPosition(this.getPositionCard(e));break;case cc.Node.EventType.TOUCH_CANCEL:e.isDraging=!1,e.node.setPosition(this.getPositionCard(e))}}});e.exports=o,cc._RF.pop()},{Types:"Types",Utility:"Utility"}],CProgressWaterAni:[function(t,e,n){"use strict";cc._RF.push(e,"2a9d8h1T4hAJrxWvcw6Gm89","CProgressWaterAni"),cc.Class({extends:cc.Component,properties:{sheepAnim:{default:null,type:cc.Animation}},onLoad:function(){},update:function(t){}}),cc._RF.pop()},{}],CTable:[function(t,e,n){"use strict";cc._RF.push(e,"876d07NSSZBu4d949Frr7aA","CTable");var i=t("Types"),o=(i.Table,i.Card,t("Utility"));cc.Class({extends:cc.Component,properties:{lbPot:cc.Label,lbId:cc.Label,lbStake:cc.Label},ctor:function(){this.numCard=0,this.table=null},onLoad:function(){this.table?(this.lbPot.string=o.formatMoney(this.table.pot),this.lbId.string=o.formatMoney(this.table.id),this.lbStake.string=o.formatMoney(this.table.stake)):console.error("need setTable before load")},start:function(){},setTable:function(t){this.table=t},getPositionCard:function(t){var e=t.index;return this.getPositionVia(e)},getPositionVia:function(t){var e=this.numCard>0?this.numCard:1,n=-250,i=(250-n)/(e-1);return i>50&&(i=50),n+=(250-n-i*(e-1))/2,new cc.Vec2(n+i*t,0)},setNumCard:function(t){this.numCard=t}}),cc._RF.pop()},{Types:"Types",Utility:"Utility"}],CardUtils:[function(t,e,n){"use strict";cc._RF.push(e,"d0382uKtHJMSoEGLa7Q4Fz0","CardUtils"),cc._RF.pop()},{}],GameController:[function(t,e,n){"use strict";cc._RF.push(e,"0998cn5M2hCaJbNVw/MXvof","GameController");var i=t("PlayableState"),o=(t("PoolHandler"),t("CCard")),r=t("CTable"),s=t("CPlayer"),a=t("Types"),c=(a.Card,a.Table),u=a.Player,l=t("GameFake"),f=l.ActionType,d=l.GameFake,h=(l.SoundType,t("PlayableAds")),p=t("CAudio");cc.Class({extends:cc.Component,properties:{playableState:{default:null,type:i,serializable:!1,visible:!1},btnPlayNow:cc.Button,btnDump:cc.Button,btnPass:cc.Button,layerGame:cc.Node,layerAction:cc.Node,table:{default:null,type:cc.Node},players:{default:[],type:cc.Node},layerCard:{default:null,type:cc.Node},effectWin:{default:null,type:cc.Node},cardPrefab:{default:null,type:cc.Prefab},_poolCard:{default:null,type:cc.NodePool,visible:!1},_gameFake:{default:null,type:d,visible:!1}},ctor:function(){this.curIndex=-1,this.cardExpects=[],this.startPointTouch=null,this.zIndexCard=10,this.audio=null},onEnable:function(){console.log("onEnable players:"+this.players.length)},onLoad:function(){this.audio=this.node.getComponent(p),this.effectWin.active=!1,this._poolCard=new cc.NodePool(o),this._gameFake=new d;var t=this._gameFake.getDefaultInfo(),e=t.table,n=new c(e.id,e.stake,e.pot);this.table.getComponent(r).setTable(n);var i=e.dock,a=this.table.getComponent(r);a.setNumCard(i.length);for(var l=0;l<i.length;l++){var f=i[l],h=this._poolCard.get();h||(h=cc.instantiate(this.cardPrefab));var m=h.getComponent(o);m.setCard(f),m.index=l,m.setOwner(a);var g=a.getPositionCard(m);h.setPosition(g),this.layerCard.addChild(h)}console.log("onEnable players:"+this.players.length);for(var y=t.players,v=0;v<y.length;v++){var C=y[v],b=new u(C.index,C.displayName,C.gold,C.avatarIndex,C.cards);console.log("get palyer at:"+b.index);var T=this.players[b.index].getComponent(s);T.setGameController(this),T.setPlayer(b)}this.node.on("card-touch",this.onTouchCard,this);var x=this._gameFake.getAction().time;x>0&&this.scheduleOnce(function(){this.executeAction()}.bind(this),x)},start:function(){},executeAction:function(){var t=this._gameFake.getAction();console.log("executeAction:"+JSON.stringify(t));var e=t.index;switch(t.type){case f.PASS:this.onPassAt(e);break;case f.DISCARD:this.onDiscardAt(e,t.cards)}var n=t.sound;if(n&&this.audio.playAudio(n),t.isEnded)this.effectWin.active=!0;else{this.curIndex=t.next;var i=this._gameFake.next();if(i){console.log("actionNext:"+JSON.stringify(i));var o=i.time;o>0&&this.scheduleOnce(function(){var t=this._gameFake.getAction();if(0===t.index)return t.suggest,void(this.cardExpects=t.cards);this.executeAction()}.bind(this),o)}}},onPassAt:function(t){console.log("onPassAt:"+t),this.players[t].getComponent(s).onPass()},onDiscardAt:function(t,e){console.log("onDiscardAt:"+t+"|"+JSON.stringify(e));var n=this.table.getComponent(r),i=this.players[t].getComponent(s).onDiscard(e),a=i.length;n.setNumCard(a);for(var c=0;c<a;c++){var u=i[c],l=u.getComponent(o);l.index=c,l.owner=n;var f=n.getPositionCard(l);u.zIndex=++this.zIndexCard,u.runAction(cc.spawn(cc.moveTo(1,f),cc.rotateTo(1,0))),cc.log("newZIndex:"+this.zIndexCard)}},onTouchCard:function(t){var e=t.getUserData(),n=e.card,i=n.owner;if(i instanceof r)console.log("passing card on table");else if(i instanceof s)if(this.isMyTurn())if(this.isTouchExpectCards(n.card))switch(e.event.type){case cc.Node.EventType.TOUCH_START:this.startPointTouch=e.event.getLocation();break;case cc.Node.EventType.TOUCH_MOVE:break;case cc.Node.EventType.TOUCH_END:case cc.Node.EventType.TOUCH_CANCEL:var o=e.event.getLocation();o.y-this.startPointTouch.y>45?(this.executeAction(),cc.log("Discard on my turn")):cc.log("!!Discard on my turn"),cc.log("touch:"+JSON.stringify(this.startPointTouch)+"| "+JSON.stringify(o))}else cc.log("not expects card");else cc.log("not my turn")},onPlayNow:function(){console.log("onPlay path main"),h.onCTAClick()},onTouchDump:function(){console.log("touch Dump")},onTouchPass:function(){console.log("touch Pass")},getNewCard:function(){var t=this._poolCard.get();return t||(t=cc.instantiate(this.cardPrefab)),t},isMyTurn:function(){return 0===this.curIndex},isTouchExpectCards:function(t){for(var e=this.cardExpects.length,n=0;n<e;n++){if(this.cardExpects[n].id===t.id)return!0}return!1}}),cc._RF.pop()},{CAudio:"CAudio",CCard:"CCard",CPlayer:"CPlayer",CTable:"CTable",GameFake:"GameFake",PlayableAds:"PlayableAds",PlayableState:"PlayableState",PoolHandler:"PoolHandler",Types:"Types"}],GameFake:[function(t,e,n){"use strict";cc._RF.push(e,"af1531lKdNCeqAorUj+Evyi","GameFake");var i=t("Types"),o=i.Card,r=(i.Rank,i.Suit,{DISCARD:0,PASS:1}),s={WELCOME:0,STRAIGHT:1,FLUSH:2,FULL_HOUSE:3,WIN:4},a=[{index:1,type:r.DISCARD,cards:[o.from("7","\u2660"),o.from("8","\u2665"),o.from("9","\u2663"),o.from("10","\u2660"),o.from("J","\u2665")],time:1,sound:s.STRAIGHT,next:2},{index:2,type:r.DISCARD,cards:[o.from("5","\u2666"),o.from("9","\u2666"),o.from("J","\u2666"),o.from("K","\u2666"),o.from("A","\u2666")],time:1,sound:s.FLUSH,next:0},{index:0,type:r.DISCARD,cards:[o.from("3","\u2660"),o.from("3","\u2665"),o.from("4","\u2663"),o.from("4","\u2660"),o.from("4","\u2665")],time:1,sound:s.FULL_HOUSE,next:1,suggest:!0},{index:1,type:r.DISCARD,cards:[o.from("6","\u2660"),o.from("6","\u2665"),o.from("9","\u2663"),o.from("9","\u2660"),o.from("9","\u2665")],time:1,sound:s.FULL_HOUSE,next:2},{index:2,type:r.PASS,cards:[],time:1,next:0},{index:0,type:r.DISCARD,cards:[o.from("K","\u2660"),o.from("2","\u2663"),o.from("2","\u2660"),o.from("2","\u2665"),o.from("2","\u2666")],time:1,sound:s.WIN,isEnded:!0}],c={players:[{index:0,displayName:"You",gold:27e6,avatarIndex:0,cards:[o.from("3","\u2660"),o.from("3","\u2665"),o.from("4","\u2663"),o.from("4","\u2660"),o.from("4","\u2665"),o.from("K","\u2660"),o.from("2","\u2663"),o.from("2","\u2660"),o.from("2","\u2665"),o.from("2","\u2666")]},{index:1,displayName:"Maria",gold:47e6,avatarIndex:1,cards:[]},{index:2,displayName:"Michelle",gold:58e6,avatarIndex:2,cards:[]}],table:{id:456,stake:1e7,pot:4e7,dock:[o.from("Q","\u2666"),o.from("K","\u2663"),o.from("A","\u2660")]}};function u(){this.curIndex=0}u.prototype.reset=function(){this.curIndex=0},u.prototype.next=function(){return this.curIndex++,this.getAction()},u.prototype.getAction=function(){return a[this.curIndex]},u.prototype.getDefaultInfo=function(){return c},e.exports={GameFake:u,ActionType:r,SoundType:s},cc._RF.pop()},{Types:"Types"}],Game:[function(t,e,n){"use strict";cc._RF.push(e,"0973a4zPWhAZpuFLPEljN0e","Game"),cc.Class({extends:cc.Component,properties:{},start:function(){}}),cc._RF.pop()},{}],PlayableAds:[function(t,e,n){"use strict";cc._RF.push(e,"ce239sy/55Ox5FRnSgYmiSY","PlayableAds"),e.exports={onCTAClick:function(){try{FbPlayableAd.onCTAClick(),console.log("onCTAClick finish")}catch(t){console.log("onCTAClick redirect"),!0===confirm("Not playableAds, open store?")&&(window.location.href="https://play.google.com/store/apps/details?id=com.rummy.pusoy.dos")}}},cc._RF.pop()},{}],PlayableState:[function(t,e,n){"use strict";cc._RF.push(e,"d7e39F4OClL1IwzfB5UPkvI","PlayableState");var i=t("state-machine"),o=t("state-machine-visualize"),r=cc.Enum({PLAY:"play",ACTION1:"action1",ACTION2:"action2",ACTION3:"action3"}),s=cc.Enum({IDLE:"idle",STEP1:"step1",STEP2:"step2",STEP3:"step3",FINISH:"finish"});cc.Class({properties:{fsm:{default:null,type:i,serializable:!1,visible:!1}},ctor:function(){},load:function(){this.fsm=new i({init:s.IDLE,transitions:[{name:r.PLAY,from:s.IDLE,to:s.STEP1},{name:r.ACTION1,from:s.STEP1,to:s.STEP2},{name:r.ACTION2,from:s.STEP2,to:s.STEP3},{name:r.ACTION3,from:s.STEP3,to:s.FINISH}],methods:{onInvalidTransition:function(t,e,n){console.error("onInvalidTransition")},onPendingTransition:function(t,e,n){console.error("onPendingTransition")},onBeforeMelt:function(){return console.log("onEnter melted"),new Promise(function(t,e){setTimeout(function(){console.log("onEnter melted done"),e("abc")},200)})},onMelt:function(){console.log("I melted")},onFreeze:function(){console.log("I froze")},onVaporize:function(){console.log("I vaporized")},onCondense:function(){console.log("I condensed")}}}),console.log("before"+this.fsm.state);try{this.fsm.melt()}catch(t){console.log("catch day nef")}console.log("after"+this.fsm.state),setTimeout(function(){console.log("after1"+this.fsm.state),console.log(this.fsm.state)}.bind(this),500),setTimeout(function(){console.log("continue meltd"),this.fsm.melt(),console.log(this.fsm.state)}.bind(this),1e3),this.fsm.freeze(),console.log(this.fsm.state),console.log(o(this.fsm))}});cc._RF.pop()},{"state-machine":"state-machine","state-machine-visualize":"state-machine-visualize"}],PoolHandler:[function(t,e,n){"use strict";cc._RF.push(e,"2abece5O/9CH4bM2CUim0ve","PoolHandler");var i=0;function o(){var t=Date.now();if(t-i<300){this.stopAllActions();var e=this.getComponent("PoolHandler")._pool;e?e.put(this):this.removeFromParent(!0)}else this.paused?cc.director.getActionManager().resumeTarget(this):cc.director.getActionManager().pauseTarget(this),this.paused=!this.paused;i=t}var r=cc.Class({extends:cc.Component,properties:{_pool:null},onLoad:function(){this.reuse()},unuse:function(){this.node.off(cc.Node.EventType.TOUCH_END,o,this.node)},reuse:function(){this.node.paused=!1,this.node.on(cc.Node.EventType.TOUCH_END,o,this.node)}});e.exports=r,cc._RF.pop()},{}],Types:[function(t,e,n){"use strict";cc._RF.push(e,"b6265atsTFIyIyUEOexlFUc","Types");var i=["3","4","5","6","7","8","9","10","J","Q","K","A","2"],o=["\u2663","\u2660","\u2665","\u2666"];function r(t,e){Object.defineProperties(this,{point:{value:t,writable:!1},suit:{value:e,writable:!1},id:{value:13*e+t,writable:!1},pointName:{get:function(){return i[this.point]}},suitName:{get:function(){return o[this.suit]}},isBlackSuit:{get:function(){return 0===this.suit||1===this.suit}},isRedSuit:{get:function(){return 2===this.suit||3===this.suit}}})}r.prototype.toString=function(){return this.pointName+this.suitName};var s=new Array(52);r.fromId=function(t){return s[t]},r.from=function(t,e){return r.fromId(i.indexOf(t)+13*o.indexOf(e))},function(){for(var t=0;t<4;t++)for(var e=0;e<13;e++){var n=new r(e,t);s[n.id]=n}}(),e.exports={Rank:i,Suit:o,Card:r,Player:function(t,e,n,i,o){n=void 0===n?0:n,i=void 0===i?0:i,o=void 0===o?[]:o,Object.defineProperties(this,{index:{value:t,writable:!1},name:{value:e,writable:!1},gold:{writable:!0,value:n},avatar:{writable:!0,value:i},cards:{writable:!0,value:o}})},Table:function(t,e,n){Object.defineProperties(this,{id:{value:t,writable:!1},stake:{value:e,writable:!1},pot:{writable:!0,value:n}})}},cc._RF.pop()},{}],Utility:[function(t,e,n){"use strict";cc._RF.push(e,"03f42tN4dFFZ57ZmRNgSNMC","Utility");var i={units:[{prefix:"G",l:12,div:1e12},{prefix:"B",l:9,div:1e9},{prefix:"M",l:6,div:1e6},{prefix:"K",l:4,div:1e3},{prefix:"",l:3,div:1}],formatMoney:function(t,e,n){return void 0===e&&(e=""),e+i.formatAlignNumber(t,n)},formatMoneyFull:function(t,e,n){return void 0===e&&(e=""),e+i.formatAlignNumber(t,n,!0)},formatAlignNumber:function(t,e,n){if(void 0===t)return"0";t-=-.1,void 0===e&&(e=","),void 0===n&&(n=!1);var o=t<0,r=(t=Math.abs(Math.round(t))).toString();if(n)for(var s=r.length-3;s>0;)r=r.insertAt(s,e),s-=3;else for(var a=i.units,c=0,u=a.length;c<u;++c)if(r.length>a[c].l){var l=(t/a[c].div).toString().split("."),f=l[0].length>2?1:2;if(l[0].length>3)for(s=l[0].length-3;s>0;)l[0]=l[0].insertAt(s,e),s-=3;r=l[0],l.length>1&&(r+="."+l[1].substr(0,f)),r+=a[c].prefix;break}return o&&(r="-"+r),r}};e.exports=i,cc._RF.pop()},{}],"state-machine-history":[function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}cc._RF.push(e,"6bd92evp1ZJZ6xCHMU25nST","state-machine-history"),function(t,o){"object"===(void 0===n?"undefined":i(n))&&"object"===(void 0===e?"undefined":i(e))?e.exports=o():"function"==typeof define&&define.amd?define("StateMachineHistory",[],o):"object"===(void 0===n?"undefined":i(n))?n.StateMachineHistory=o():t.StateMachineHistory=o()}(void 0,function(){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var o=e[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.i=function(t){return t},n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:i})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=1)}([function(t,e,n){function i(t){if(0===t.length)return t;var e,n,i=t.split(/[_-]/);if(1===i.length&&i[0][0].toLowerCase()===i[0][0])return t;for(n=i[0].toLowerCase(),e=1;e<i.length;e++)n=n+i[e].charAt(0).toUpperCase()+i[e].substring(1).toLowerCase();return n}i.prepended=function(t,e){return t+(e=i(e))[0].toUpperCase()+e.substring(1)},t.exports=i},function(t,e,n){var i=n(0);t.exports=function(t){var e=i((t=t||{}).name||t.past||"history"),n=i(t.future||"future"),o=i.prepended("clear",e),r=i.prepended(e,"back"),s=i.prepended(e,"forward"),a=i.prepended("can",r),c=i.prepended("can",s),u=t.max,l={configure:function(t){t.addTransitionLifecycleNames(r),t.addTransitionLifecycleNames(s)},init:function(t){t[e]=[],t[n]=[]},lifecycle:function(t,i){"onEnterState"===i.event&&(t[e].push(i.to),u&&t[e].length>u&&t[e].shift(),i.transition!==r&&i.transition!==s&&(t[n].length=0))},methods:{},properties:{}};return l.methods[o]=function(){this[e].length=0,this[n].length=0},l.properties[a]={get:function(){return this[e].length>1}},l.properties[c]={get:function(){return this[n].length>0}},l.methods[r]=function(){if(!this[a])throw Error("no history");var t=this[e].pop(),i=this[e].pop();this[n].push(t),this._fsm.transit(r,t,i,[])},l.methods[s]=function(){if(!this[c])throw Error("no history");var t=this.state,e=this[n].pop();this._fsm.transit(s,t,e,[])},l}}])}),cc._RF.pop()},{}],"state-machine-visualize":[function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}cc._RF.push(e,"4a309EP+LRF8YsSguHpvS/m","state-machine-visualize"),function(t,o){"object"===(void 0===n?"undefined":i(n))&&"object"===(void 0===e?"undefined":i(e))?e.exports=o():"function"==typeof define&&define.amd?define("StateMachineVisualize",[],o):"object"===(void 0===n?"undefined":i(n))?n.StateMachineVisualize=o():t.StateMachineVisualize=o()}(void 0,function(){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var o=e[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.i=function(t){return t},n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:i})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=1)}([function(t,e,n){t.exports=function(t,e){var n,i,o;for(n=1;n<arguments.length;n++)for(o in i=arguments[n])i.hasOwnProperty(o)&&(t[o]=i[o]);return t}},function(t,e,n){var i=n(0);function o(t,e){return c(r(t,e))}function r(t,e){e=e||{};var n=r.fetch(t),i=e.name,o=r.rankdir(e.orientation),s=r.states(n,e),a=r.transitions(n,e),c={};return i&&(c.name=i),o&&(c.rankdir=o),s&&s.length>0&&(c.states=s),a&&a.length>0&&(c.transitions=a),c}function s(t){return" "+t+" "}function a(t){return'"'+t+'"'}function c(t){var e,n,i=(t=t||{}).name||"fsm",o=t.states||[],r=t.transitions||[],s=t.rankdir,u=[];for(u.push("digraph "+a(i)+" {"),s&&u.push("  rankdir="+s+";"),e=0,n=o.length;e<n;e++)u.push(c.state(o[e]));for(e=0,n=r.length;e<n;e++)u.push(c.edge(r[e]));return u.push("}"),u.join("\n")}r.fetch=function(t){return"function"==typeof t?t.prototype._fsm.config:t._fsm.config},r.rankdir=function(t){return"horizontal"===t?"LR":"vertical"===t?"TB":void 0},r.states=function(t,e){var n,i=t.states;return e.init||(n=i.indexOf(t.init.from),i=i.slice(0,n).concat(i.slice(n+1))),i},r.transitions=function(t,e){var n,i,o,s=t.init,a=t.options.transitions||[],c=[];for(e.init&&s.active&&r.transition(s.name,s.from,s.to,s.dot,t,e,c),n=0,i=a.length;n<i;n++)o=t.options.transitions[n],r.transition(o.name,o.from,o.to,o.dot,t,e,c);return c},r.transition=function(t,e,n,o,a,c,u){var l,f,d=a.defaults.wildcard;if(Array.isArray(e))for(l=0,f=e.length;l<f;l++)r.transition(t,e[l],n,o,a,c,u);else if(e===d||void 0===e)for(l=0,f=a.states.length;l<f;l++)r.transition(t,a.states[l],n,o,a,c,u);else n===d||void 0===n?r.transition(t,e,e,o,a,c,u):"function"==typeof n||u.push(i({},{from:e,to:n,label:s(t)},o||{}))},c.state=function(t){return"  "+a(t)+";"},c.edge=function(t){return"  "+a(t.from)+" -> "+a(t.to)+c.edge.attr(t)+";"},c.edge.attr=function(t){var e,n,i,o=Object.keys(t).sort(),r=[];for(e=0,n=o.length;e<n;e++)"from"!==(i=o[e])&&"to"!==i&&r.push(i+"="+a(t[i]));return r.length>0?" [ "+r.join(" ; ")+" ]":""},o.dotcfg=r,o.dotify=c,t.exports=o}])}),cc._RF.pop()},{}],"state-machine":[function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}cc._RF.push(e,"75189ssjqRPIJjNg8SblrCG","state-machine"),function(t,o){"object"===(void 0===n?"undefined":i(n))&&"object"===(void 0===e?"undefined":i(e))?e.exports=o():"function"==typeof define&&define.amd?define("StateMachine",[],o):"object"===(void 0===n?"undefined":i(n))?n.StateMachine=o():t.StateMachine=o()}(void 0,function(){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var o=e[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.i=function(t){return t},n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:i})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=5)}([function(t,e,n){t.exports=function(t,e){var n,i,o;for(n=1;n<arguments.length;n++)for(o in i=arguments[n])i.hasOwnProperty(o)&&(t[o]=i[o]);return t}},function(t,e,n){var i=n(0);t.exports={build:function(t,e){var n,o,r,s=e.plugins;for(n=0,o=s.length;n<o;n++)(r=s[n]).methods&&i(t,r.methods),r.properties&&Object.defineProperties(t,r.properties)},hook:function(t,e,n){var i,o,r,s,a=t.config.plugins,c=[t.context];for(n&&(c=c.concat(n)),i=0,o=a.length;i<o;i++)s=a[i],(r=a[i][e])&&r.apply(s,c)}}},function(t,e,n){function i(t){if(0===t.length)return t;var e,n,i=t.split(/[_-]/);if(1===i.length&&i[0][0].toLowerCase()===i[0][0])return t;for(n=i[0].toLowerCase(),e=1;e<i.length;e++)n=n+i[e].charAt(0).toUpperCase()+i[e].substring(1).toLowerCase();return n}i.prepended=function(t,e){return t+(e=i(e))[0].toUpperCase()+e.substring(1)},t.exports=i},function(t,e,n){var o=n(0),r=n(2);function s(t,e){t=t||{},this.options=t,this.defaults=e.defaults,this.states=[],this.transitions=[],this.map={},this.lifecycle=this.configureLifecycle(),this.init=this.configureInitTransition(t.init),this.data=this.configureData(t.data),this.methods=this.configureMethods(t.methods),this.map[this.defaults.wildcard]={},this.configureTransitions(t.transitions||[]),this.plugins=this.configurePlugins(t.plugins,e.plugin)}o(s.prototype,{addState:function(t){this.map[t]||(this.states.push(t),this.addStateLifecycleNames(t),this.map[t]={})},addStateLifecycleNames:function(t){this.lifecycle.onEnter[t]=r.prepended("onEnter",t),this.lifecycle.onLeave[t]=r.prepended("onLeave",t),this.lifecycle.on[t]=r.prepended("on",t)},addTransition:function(t){this.transitions.indexOf(t)<0&&(this.transitions.push(t),this.addTransitionLifecycleNames(t))},addTransitionLifecycleNames:function(t){this.lifecycle.onBefore[t]=r.prepended("onBefore",t),this.lifecycle.onAfter[t]=r.prepended("onAfter",t),this.lifecycle.on[t]=r.prepended("on",t)},mapTransition:function(t){var e=t.name,n=t.from,i=t.to;return this.addState(n),"function"!=typeof i&&this.addState(i),this.addTransition(e),this.map[n][e]=t,t},configureLifecycle:function(){return{onBefore:{transition:"onBeforeTransition"},onAfter:{transition:"onAfterTransition"},onEnter:{state:"onEnterState"},onLeave:{state:"onLeaveState"},on:{transition:"onTransition"}}},configureInitTransition:function(t){return"string"==typeof t?this.mapTransition(o({},this.defaults.init,{to:t,active:!0})):"object"===i(t)?this.mapTransition(o({},this.defaults.init,t,{active:!0})):(this.addState(this.defaults.init.from),this.defaults.init)},configureData:function(t){return"function"==typeof t?t:"object"===i(t)?function(){return t}:function(){return{}}},configureMethods:function(t){return t||{}},configurePlugins:function(t,e){var n,i,o;for(n=0,i=(t=t||[]).length;n<i;n++)"function"==typeof(o=t[n])&&(t[n]=o=o()),o.configure&&o.configure(this);return t},configureTransitions:function(t){var e,n,i,o,r,s=this.defaults.wildcard;for(n=0;n<t.length;n++)for(i=t[n],o=Array.isArray(i.from)?i.from:[i.from||s],r=i.to||s,e=0;e<o.length;e++)this.mapTransition({name:i.name,from:o[e],to:r})},transitionFor:function(t,e){var n=this.defaults.wildcard;return this.map[t][e]||this.map[n][e]},transitionsFor:function(t){var e=this.defaults.wildcard;return Object.keys(this.map[t]).concat(Object.keys(this.map[e]))},allStates:function(){return this.states},allTransitions:function(){return this.transitions}}),t.exports=s},function(t,e,n){var i=n(0),o=n(6),r=n(1),s=[null,[]];function a(t,e){this.context=t,this.config=e,this.state=e.init.from,this.observers=[t]}i(a.prototype,{init:function(t){if(i(this.context,this.config.data.apply(this.context,t)),r.hook(this,"init"),this.config.init.active)return this.fire(this.config.init.name,[])},is:function(t){return Array.isArray(t)?t.indexOf(this.state)>=0:this.state===t},isPending:function(){return this.pending},can:function(t){return!this.isPending()&&!!this.seek(t)},cannot:function(t){return!this.can(t)},allStates:function(){return this.config.allStates()},allTransitions:function(){return this.config.allTransitions()},transitions:function(){return this.config.transitionsFor(this.state)},seek:function(t,e){var n=this.config.defaults.wildcard,i=this.config.transitionFor(this.state,t),o=i&&i.to;return"function"==typeof o?o.apply(this.context,e):o===n?this.state:o},fire:function(t,e){return this.transit(t,this.state,this.seek(t,e),e)},transit:function(t,e,n,i){var o=this.config.lifecycle,r=this.config.options.observeUnchangedState||e!==n;return n?this.isPending()?this.context.onPendingTransition(t,e,n):(this.config.addState(n),this.beginTransit(),i.unshift({transition:t,from:e,to:n,fsm:this.context}),this.observeEvents([this.observersForEvent(o.onBefore.transition),this.observersForEvent(o.onBefore[t]),r?this.observersForEvent(o.onLeave.state):s,r?this.observersForEvent(o.onLeave[e]):s,this.observersForEvent(o.on.transition),r?["doTransit",[this]]:s,r?this.observersForEvent(o.onEnter.state):s,r?this.observersForEvent(o.onEnter[n]):s,r?this.observersForEvent(o.on[n]):s,this.observersForEvent(o.onAfter.transition),this.observersForEvent(o.onAfter[t]),this.observersForEvent(o.on[t])],i)):this.context.onInvalidTransition(t,e,n)},beginTransit:function(){this.pending=!0},endTransit:function(t){return this.pending=!1,t},failTransit:function(t){this.pending=!1},doTransit:function(t){this.state=t.to},observe:function(t){if(2===t.length){var e={};e[t[0]]=t[1],this.observers.push(e)}else this.observers.push(t[0])},observersForEvent:function(t){for(var e,n=0,i=this.observers.length,o=[];n<i;n++)(e=this.observers[n])[t]&&o.push(e);return[t,o,!0]},observeEvents:function(t,e,n,i){if(0===t.length)return this.endTransit(void 0===i||i);var o=t[0][0],s=t[0][1],a=t[0][2];if(e[0].event=o,o&&a&&o!==n&&r.hook(this,"lifecycle",e),0===s.length)return t.shift(),this.observeEvents(t,e,o,i);var c=s.shift(),u=c[o].apply(c,e);return u&&"function"==typeof u.then?u.then(this.observeEvents.bind(this,t,e,o)).catch(this.failTransit.bind(this)):!1===u?this.endTransit(!1):this.observeEvents(t,e,o,u)},onInvalidTransition:function(t,e,n){throw new o("transition is invalid in current state",t,e,n,this.state)},onPendingTransition:function(t,e,n){throw new o("transition is invalid while previous transition is still in progress",t,e,n,this.state)}}),t.exports=a},function(t,e,n){var o=n(0),r=n(2),s=n(1),a=n(3),c=n(4),u={is:function(t){return this._fsm.is(t)},can:function(t){return this._fsm.can(t)},cannot:function(t){return this._fsm.cannot(t)},observe:function(){return this._fsm.observe(arguments)},transitions:function(){return this._fsm.transitions()},allTransitions:function(){return this._fsm.allTransitions()},allStates:function(){return this._fsm.allStates()},onInvalidTransition:function(t,e,n){return this._fsm.onInvalidTransition(t,e,n)},onPendingTransition:function(t,e,n){return this._fsm.onPendingTransition(t,e,n)}},l={state:{configurable:!1,enumerable:!0,get:function(){return this._fsm.state},set:function(t){throw Error("use transitions to change state")}}};function f(t){return d(this||{},t)}function d(t,e){return h(t,new a(e,f)),t._fsm(),t}function h(t,e){if("object"!==i(t)||Array.isArray(t))throw Error("StateMachine can only be applied to objects");s.build(t,e),Object.defineProperties(t,l),o(t,u),o(t,e.methods),e.allTransitions().forEach(function(e){t[r(e)]=function(){return this._fsm.fire(e,[].slice.call(arguments))}}),t._fsm=function(){this._fsm=new c(this,e),this._fsm.init(arguments)}}f.version="3.0.1",f.factory=function(){var t,e;"function"==typeof arguments[0]?(t=arguments[0],e=arguments[1]||{}):(t=function(){this._fsm.apply(this,arguments)},e=arguments[0]||{});var n=new a(e,f);return h(t.prototype,n),t.prototype._fsm.config=n,t},f.apply=d,f.defaults={wildcard:"*",init:{name:"init",from:"none"}},t.exports=f},function(t,e,n){t.exports=function(t,e,n,i,o){this.message=t,this.transition=e,this.from=n,this.to=i,this.current=o}}])}),cc._RF.pop()},{}],"use_v2.0.x_cc.Toggle_event":[function(t,e,n){"use strict";cc._RF.push(e,"fe3beTJ7JpC+onOsVF/3MEf","use_v2.0.x_cc.Toggle_event"),cc.Toggle&&(cc.Toggle._triggerEventInScript_check=!0),cc._RF.pop()},{}]},{},["use_v2.0.x_cc.Toggle_event","Game","CAudio","CBtnDownload","CBtnStep1","CBtnStep2","CBtnStep3","CCard","CCircleAvatar","CEffectWin","CLayerGame","CPlayer","CProgressWaterAni","CTable","CardUtils","GameController","GameFake","PlayableAds","PlayableState","PoolHandler","Types","Utility","state-machine-history","state-machine-visualize","state-machine"]);