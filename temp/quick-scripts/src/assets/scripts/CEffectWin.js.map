{"version":3,"sources":["assets/scripts/CEffectWin.js"],"names":["Utility","require","cc","Class","Component","properties","spine","type","Node","lbLose1","Label","lbLose2","imgLose1","Sprite","imgLose2","lbWin","lbPot","player1","player2","emotions","ctor","gameController","onLoad","onEnable","lose1","lose2","pot","win","runUpdateGold","getComponent","gold","emo","clearTracks","setCompleteListener","trackEntry","active","setAnimation","node","runAction","sequence","delayTime","callFunc","showNodeCHPlay","start"],"mappings":"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","sourceRoot":"/","sourcesContent":["var Utility = require(\"Utility\");\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        spine:{\r\n            default:null,\r\n            type:cc.Node\r\n        },\r\n        lbLose1:{\r\n            default:null,\r\n            type:cc.Label\r\n        },\r\n        lbLose2:{\r\n            default:null,\r\n            type:cc.Label\r\n        },\r\n        imgLose1:{\r\n            default:null,\r\n            type:cc.Sprite,\r\n        },\r\n        imgLose2:{\r\n            default:null,\r\n            type:cc.Sprite,\r\n        },\r\n        lbWin:{\r\n            default:null,\r\n            type:cc.Label\r\n        },\r\n        lbPot:{\r\n            default:null,\r\n            type:cc.Label\r\n        },\r\n        player1:{\r\n            default:null,\r\n            type:cc.Node\r\n        },\r\n        player2:{\r\n            default:null,\r\n            type:cc.Node\r\n        },\r\n        emotions:{\r\n            default:[],\r\n            type:[cc.Node]\r\n        }\r\n    },\r\n\r\n    ctor:function(){\r\n        this.gameController = null;\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    onLoad () {\r\n\r\n    },\r\n\r\n    onEnable:function(){\r\n        var lose1 = 47000000;\r\n        var lose2 = 58000000;\r\n        var pot = 40000000;\r\n        var win = pot + lose1 + lose2;\r\n        Utility.runUpdateGold(this.lbLose1,0,-lose1);\r\n        Utility.runUpdateGold(this.lbLose2,0,-lose2);\r\n        Utility.runUpdateGold(this.lbPot,pot,0);\r\n        Utility.runUpdateGold(this.lbWin,0,win);\r\n        Utility.runUpdateGold(this.player1.getComponent(\"CPlayer\").gold,lose1,0);\r\n        Utility.runUpdateGold(this.player2.getComponent(\"CPlayer\").gold,lose2,0);\r\n        var emo = this.spine;\r\n        var spine = emo.getComponent('sp.Skeleton');\r\n        spine.clearTracks();\r\n        spine.setCompleteListener(function(trackEntry){\r\n            // spine.clearTracks();\r\n            // emo.active = false;\r\n        });\r\n        emo.active = true;\r\n        spine.setAnimation(0, 'animation', false);\r\n\r\n        this.node.runAction(cc.sequence(\r\n            cc.delayTime(4),\r\n            cc.callFunc(function () {\r\n                this.imgLose1.node.active = false;\r\n                this.imgLose2.node.active = false;\r\n                this.lbWin.node.active = false;\r\n                this.showNodeCHPlay();\r\n            },this)\r\n        ))\r\n    },\r\n\r\n    showNodeCHPlay:function(){\r\n        this.gameController.showNodeCHPlay();\r\n    },\r\n    start () {\r\n\r\n    },\r\n\r\n    // update (dt) {},\r\n});\r\n"]}