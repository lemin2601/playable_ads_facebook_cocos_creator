{"version":3,"sources":["assets\\scripts\\CEffectWin.js"],"names":["Utility","require","cc","Class","Component","properties","spine","type","Node","lbLose1","Label","lbLose2","imgLose1","Sprite","imgLose2","lbWin","lbPot","player1","player2","ctor","gameController","onLoad","onEnable","lose1","lose2","pot","win","runUpdateGold","getComponent","gold","emo","clearTracks","setCompleteListener","trackEntry","active","setAnimation","node","runAction","sequence","delayTime","callFunc","showNodeCHPlay","start"],"mappings":"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","sourceRoot":"/","sourcesContent":["var Utility = require(\"Utility\");\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        spine:{\r\n            default:null,\r\n            type:cc.Node\r\n        },\r\n        lbLose1:{\r\n            default:null,\r\n            type:cc.Label\r\n        },\r\n        lbLose2:{\r\n            default:null,\r\n            type:cc.Label\r\n        },\r\n        imgLose1:{\r\n            default:null,\r\n            type:cc.Sprite,\r\n        },\r\n        imgLose2:{\r\n            default:null,\r\n            type:cc.Sprite,\r\n        },\r\n        lbWin:{\r\n            default:null,\r\n            type:cc.Label\r\n        },\r\n        lbPot:{\r\n            default:null,\r\n            type:cc.Label\r\n        },\r\n        player1:{\r\n            default:null,\r\n            type:cc.Node\r\n        },\r\n        player2:{\r\n            default:null,\r\n            type:cc.Node\r\n        }\r\n    },\r\n\r\n    ctor:function(){\r\n        this.gameController = null;\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    onLoad () {\r\n\r\n    },\r\n\r\n    onEnable:function(){\r\n        var lose1 = 47000000;\r\n        var lose2 = 58000000;\r\n        var pot = 40000000;\r\n        var win = pot + lose1 + lose2;\r\n        Utility.runUpdateGold(this.lbLose1,0,-lose1);\r\n        Utility.runUpdateGold(this.lbLose2,0,-lose2);\r\n        Utility.runUpdateGold(this.lbPot,pot,0);\r\n        Utility.runUpdateGold(this.lbWin,0,win);\r\n        Utility.runUpdateGold(this.player1.getComponent(\"CPlayer\").gold,lose1,0);\r\n        Utility.runUpdateGold(this.player2.getComponent(\"CPlayer\").gold,lose2,0);\r\n        var emo = this.spine;\r\n        var spine = emo.getComponent('sp.Skeleton');\r\n        spine.clearTracks();\r\n        spine.setCompleteListener(function(trackEntry){\r\n            // spine.clearTracks();\r\n            // emo.active = false;\r\n        });\r\n        emo.active = true;\r\n        spine.setAnimation(0, 'animation', false);\r\n\r\n        this.node.runAction(cc.sequence(\r\n            cc.delayTime(4),\r\n            cc.callFunc(function () {\r\n                this.imgLose1.node.active = false;\r\n                this.imgLose2.node.active = false;\r\n                this.lbWin.node.active = false;\r\n                this.showNodeCHPlay();\r\n            },this)\r\n        ))\r\n    },\r\n\r\n    showNodeCHPlay:function(){\r\n        this.gameController.showNodeCHPlay();\r\n    },\r\n    start () {\r\n\r\n    },\r\n\r\n    // update (dt) {},\r\n});\r\n"]}