
                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/scripts/GameController.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '0998cn5M2hCaJbNVw/MXvof', 'GameController');
// scripts/GameController.js

"use strict";

var PlayableState = require('PlayableState');

var PoolHandler = require("PoolHandler");

var CCard = require("CCard");

var CTable = require("CTable");

var CPlayer = require("CPlayer");

var _require = require("Types"),
    Card = _require.Card,
    Table = _require.Table,
    Player = _require.Player;

var _require2 = require("GameFake"),
    ActionType = _require2.ActionType,
    GameFake = _require2.GameFake,
    SoundType = _require2.SoundType;

var PlayableAds = require("PlayableAds");

var CAudio = require("CAudio");

cc.Class({
  "extends": cc.Component,
  properties: {
    playableState: {
      "default": null,
      type: PlayableState,
      serializable: false,
      visible: false
    },
    btnPlayNow: cc.Button,
    btnDump: cc.Button,
    btnPass: cc.Button,
    layerGame: cc.Node,
    layerAction: cc.Node,
    table: {
      "default": null,
      type: cc.Node
    },
    players: {
      "default": [],
      type: cc.Node
    },
    layerCard: {
      "default": null,
      type: cc.Node
    },
    effectWin: {
      "default": null,
      type: cc.Node
    },
    cardPrefab: {
      "default": null,
      type: cc.Prefab
    },
    _poolCard: {
      "default": null,
      type: cc.NodePool,
      visible: false
    },
    _gameFake: {
      "default": null,
      type: GameFake,
      visible: false
    }
  },
  ctor: function ctor() {
    this.curIndex = -1;
    this.cardExpects = [];
    this.startPointTouch = null;
    this.zIndexCard = 10;
    this.audio = null;
  },
  onEnable: function onEnable() {
    console.log("onEnable players:" + this.players.length);
  },
  onLoad: function onLoad() {
    this.audio = this.node.getComponent(CAudio);
    this.effectWin.active = false; //1. khoi tao info ban dau

    this._poolCard = new cc.NodePool(CCard);
    this._gameFake = new GameFake();

    var gameInfo = this._gameFake.getDefaultInfo();

    var tableConfig = gameInfo.table;
    var table = new Table(tableConfig.id, tableConfig.stake, tableConfig.pot);
    this.table.getComponent(CTable).setTable(table); //create new Card on Dock

    var cards = tableConfig.dock;
    var cTable = this.table.getComponent(CTable);
    cTable.setNumCard(cards.length);

    for (var j = 0; j < cards.length; j++) {
      var c = cards[j];

      var cardPrefabs = this._poolCard.get();

      if (!cardPrefabs) {
        cardPrefabs = cc.instantiate(this.cardPrefab);
      }

      var cCard = cardPrefabs.getComponent(CCard);
      cCard.setCard(c);
      cCard.index = j;
      cCard.setOwner(cTable);
      var p = cTable.getPositionCard(cCard);
      cardPrefabs.setPosition(p);
      this.layerCard.addChild(cardPrefabs);
    }

    console.log("onEnable players:" + this.players.length); //update info avatar

    var playersConfig = gameInfo.players;

    for (var k = 0; k < playersConfig.length; k++) {
      var playerConfig = playersConfig[k];
      var player = new Player(playerConfig.index, playerConfig.displayName, playerConfig.gold, playerConfig.avatarIndex, playerConfig.cards);
      console.log("get palyer at:" + player.index);
      var cPlayer = this.players[player.index].getComponent(CPlayer);
      cPlayer.setGameController(this);
      cPlayer.setPlayer(player);
    } //load prefab cardPrefabs
    // cc.loader.loadRes("prefabs/cardPrefab", function (err, prefab) {
    //     var newNode = cc.instantiate(prefab);
    //     newNode.setPosition(100,100);
    //     this.layerGame.addChild(newNode);
    //     // cc.director.getScene().addChild(newNode);
    // }.bind(this));


    this.node.on("card-touch", this.onTouchCard, this);

    var actionConfig = this._gameFake.getAction();

    var delayTime = actionConfig.time;

    if (delayTime > 0) {
      this.scheduleOnce(function () {
        this.executeAction();
      }.bind(this), delayTime);
    }
  },
  start: function start() {},
  executeAction: function executeAction() {
    var actionConfig = this._gameFake.getAction();

    console.log("executeAction:" + JSON.stringify(actionConfig));
    var index = actionConfig.index;
    var type = actionConfig.type;

    switch (type) {
      case ActionType.PASS:
        this.onPassAt(index);
        break;

      case ActionType.DISCARD:
        this.onDiscardAt(index, actionConfig.cards);
        break;
    }

    var sound = actionConfig.sound;

    if (sound) {
      this.audio.playAudio(sound);
    }

    if (actionConfig.isEnded) {
      this.effectWin.active = true;
    } else {
      this.curIndex = actionConfig.next;

      var actionNext = this._gameFake.next();

      if (actionNext) {
        console.log("actionNext:" + JSON.stringify(actionNext));
        var delayTime = actionNext.time;

        if (delayTime > 0) {
          this.scheduleOnce(function () {
            var actionConfig = this._gameFake.getAction();

            var index = actionConfig.index;

            if (index === 0) {
              if (actionConfig.suggest) {//neu co suggest
              }

              this.cardExpects = actionConfig.cards;
              return;
            }

            this.executeAction();
          }.bind(this), delayTime);
        }
      }
    }
  },
  onPassAt: function onPassAt(index) {
    console.log("onPassAt:" + index);
    var cPlayer = this.players[index].getComponent(CPlayer);
    cPlayer.onPass();
  },
  onDiscardAt: function onDiscardAt(index, cards) {
    console.log("onDiscardAt:" + index + "|" + JSON.stringify(cards));
    var cTable = this.table.getComponent(CTable);
    var cardPrefabs = this.players[index].getComponent(CPlayer).onDiscard(cards);
    var len = cardPrefabs.length;
    cTable.setNumCard(len);

    for (var k = 0; k < len; k++) {
      var cardPrefab = cardPrefabs[k];
      var cCard = cardPrefab.getComponent(CCard);
      cCard.index = k;
      cCard.owner = cTable;
      var p = cTable.getPositionCard(cCard);
      cardPrefab.zIndex = ++this.zIndexCard; // cardPrefab.setPosition(p);

      cardPrefab.runAction(cc.spawn(cc.moveTo(1, p), cc.rotateTo(1, 0)));
      cc.log("newZIndex:" + this.zIndexCard); // this.layerGame.addChild(cardPrefab);
    } // for (var j = 0; j < cards.length; j++) {
    //     var c = cards[j];
    //
    //     var cardPrefabs = this._poolCard.get();
    //     if(!cardPrefabs){cardPrefabs = cc.instantiate(this.cardPrefab);}
    //
    //     var cCard = cardPrefabs.getComponent(CCard);
    //
    //     cCard.setCard(c);
    //     cCard.index = (j);
    //     cCard.owner = cTable;
    //
    //     var p = cTable.getPositionCard(cCard);
    //     cardPrefabs.setPosition(p);
    //     this.layerGame.addChild(cardPrefabs);
    // }

  },
  onTouchCard: function onTouchCard(event) {
    var data = event.getUserData();
    var cCard = data.card;
    var owner = cCard.owner;

    if (owner instanceof CTable) {
      console.log("passing card on table");
      return;
    }

    if (owner instanceof CPlayer) {
      if (this.isMyTurn()) {
        if (this.isTouchExpectCards(cCard.card)) {
          switch (data.event.type) {
            case cc.Node.EventType.TOUCH_START:
              this.startPointTouch = data.event.getLocation();
              break;

            case cc.Node.EventType.TOUCH_MOVE:
              break;

            case cc.Node.EventType.TOUCH_END:
            case cc.Node.EventType.TOUCH_CANCEL:
              var pos = data.event.getLocation();

              if (pos.y - this.startPointTouch.y > 45) {
                this.executeAction();
                cc.log("Discard on my turn");
              } else {
                cc.log("!!Discard on my turn");
              }

              cc.log("touch:" + JSON.stringify(this.startPointTouch) + "| " + JSON.stringify(pos));
              break;
          }
        } else {
          cc.log("not expects card");
        }
      } else {
        cc.log("not my turn");
      } // owner.onTouchCard(data.event,data.card)

    } // console.log("onTouchCard at controler");

  },
  onPlayNow: function onPlayNow() {
    console.log("onPlay path main");
    PlayableAds.onCTAClick();
  },
  onTouchDump: function onTouchDump() {
    console.log("touch Dump");
  },
  onTouchPass: function onTouchPass() {
    console.log("touch Pass");
  },
  getNewCard: function getNewCard() {
    var cardPrefab = this._poolCard.get();

    if (!cardPrefab) {
      cardPrefab = cc.instantiate(this.cardPrefab);
    }

    return cardPrefab;
  },
  isMyTurn: function isMyTurn() {
    return this.curIndex === 0;
  },
  isTouchExpectCards: function isTouchExpectCards(card) {
    var len = this.cardExpects.length;

    for (var i = 0; i < len; i++) {
      var c = this.cardExpects[i];

      if (c.id === card.id) {
        return true;
      }
    }

    return false;
  }
});

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0c1xcR2FtZUNvbnRyb2xsZXIuanMiXSwibmFtZXMiOlsiUGxheWFibGVTdGF0ZSIsInJlcXVpcmUiLCJQb29sSGFuZGxlciIsIkNDYXJkIiwiQ1RhYmxlIiwiQ1BsYXllciIsIkNhcmQiLCJUYWJsZSIsIlBsYXllciIsIkFjdGlvblR5cGUiLCJHYW1lRmFrZSIsIlNvdW5kVHlwZSIsIlBsYXlhYmxlQWRzIiwiQ0F1ZGlvIiwiY2MiLCJDbGFzcyIsIkNvbXBvbmVudCIsInByb3BlcnRpZXMiLCJwbGF5YWJsZVN0YXRlIiwidHlwZSIsInNlcmlhbGl6YWJsZSIsInZpc2libGUiLCJidG5QbGF5Tm93IiwiQnV0dG9uIiwiYnRuRHVtcCIsImJ0blBhc3MiLCJsYXllckdhbWUiLCJOb2RlIiwibGF5ZXJBY3Rpb24iLCJ0YWJsZSIsInBsYXllcnMiLCJsYXllckNhcmQiLCJlZmZlY3RXaW4iLCJjYXJkUHJlZmFiIiwiUHJlZmFiIiwiX3Bvb2xDYXJkIiwiTm9kZVBvb2wiLCJfZ2FtZUZha2UiLCJjdG9yIiwiY3VySW5kZXgiLCJjYXJkRXhwZWN0cyIsInN0YXJ0UG9pbnRUb3VjaCIsInpJbmRleENhcmQiLCJhdWRpbyIsIm9uRW5hYmxlIiwiY29uc29sZSIsImxvZyIsImxlbmd0aCIsIm9uTG9hZCIsIm5vZGUiLCJnZXRDb21wb25lbnQiLCJhY3RpdmUiLCJnYW1lSW5mbyIsImdldERlZmF1bHRJbmZvIiwidGFibGVDb25maWciLCJpZCIsInN0YWtlIiwicG90Iiwic2V0VGFibGUiLCJjYXJkcyIsImRvY2siLCJjVGFibGUiLCJzZXROdW1DYXJkIiwiaiIsImMiLCJjYXJkUHJlZmFicyIsImdldCIsImluc3RhbnRpYXRlIiwiY0NhcmQiLCJzZXRDYXJkIiwiaW5kZXgiLCJzZXRPd25lciIsInAiLCJnZXRQb3NpdGlvbkNhcmQiLCJzZXRQb3NpdGlvbiIsImFkZENoaWxkIiwicGxheWVyc0NvbmZpZyIsImsiLCJwbGF5ZXJDb25maWciLCJwbGF5ZXIiLCJkaXNwbGF5TmFtZSIsImdvbGQiLCJhdmF0YXJJbmRleCIsImNQbGF5ZXIiLCJzZXRHYW1lQ29udHJvbGxlciIsInNldFBsYXllciIsIm9uIiwib25Ub3VjaENhcmQiLCJhY3Rpb25Db25maWciLCJnZXRBY3Rpb24iLCJkZWxheVRpbWUiLCJ0aW1lIiwic2NoZWR1bGVPbmNlIiwiZXhlY3V0ZUFjdGlvbiIsImJpbmQiLCJzdGFydCIsIkpTT04iLCJzdHJpbmdpZnkiLCJQQVNTIiwib25QYXNzQXQiLCJESVNDQVJEIiwib25EaXNjYXJkQXQiLCJzb3VuZCIsInBsYXlBdWRpbyIsImlzRW5kZWQiLCJuZXh0IiwiYWN0aW9uTmV4dCIsInN1Z2dlc3QiLCJvblBhc3MiLCJvbkRpc2NhcmQiLCJsZW4iLCJvd25lciIsInpJbmRleCIsInJ1bkFjdGlvbiIsInNwYXduIiwibW92ZVRvIiwicm90YXRlVG8iLCJldmVudCIsImRhdGEiLCJnZXRVc2VyRGF0YSIsImNhcmQiLCJpc015VHVybiIsImlzVG91Y2hFeHBlY3RDYXJkcyIsIkV2ZW50VHlwZSIsIlRPVUNIX1NUQVJUIiwiZ2V0TG9jYXRpb24iLCJUT1VDSF9NT1ZFIiwiVE9VQ0hfRU5EIiwiVE9VQ0hfQ0FOQ0VMIiwicG9zIiwieSIsIm9uUGxheU5vdyIsIm9uQ1RBQ2xpY2siLCJvblRvdWNoRHVtcCIsIm9uVG91Y2hQYXNzIiwiZ2V0TmV3Q2FyZCIsImkiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsSUFBSUEsYUFBYSxHQUFHQyxPQUFPLENBQUMsZUFBRCxDQUEzQjs7QUFDQSxJQUFJQyxXQUFXLEdBQUdELE9BQU8sQ0FBQyxhQUFELENBQXpCOztBQUNBLElBQUlFLEtBQUssR0FBR0YsT0FBTyxDQUFDLE9BQUQsQ0FBbkI7O0FBQ0EsSUFBSUcsTUFBTSxHQUFHSCxPQUFPLENBQUMsUUFBRCxDQUFwQjs7QUFDQSxJQUFJSSxPQUFPLEdBQUdKLE9BQU8sQ0FBQyxTQUFELENBQXJCOztlQUMwQkEsT0FBTyxDQUFDLE9BQUQ7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LEVBQWpCOztBQUNBLFFBQUcsQ0FBQ2pDLFVBQUosRUFBZTtBQUFDQSxNQUFBQSxVQUFVLEdBQUduQixFQUFFLENBQUNxRCxXQUFILENBQWUsS0FBS2xDLFVBQXBCLENBQWI7QUFBOEM7O0FBQzlELFdBQU9BLFVBQVA7QUFDSCxHQTlRSTtBQWdSTHdGLEVBQUFBLFFBQVEsRUFBQyxvQkFBWTtBQUNqQixXQUFPLEtBQUtsRixRQUFMLEtBQWtCLENBQXpCO0FBQ0gsR0FsUkk7QUFtUkxtRixFQUFBQSxrQkFBa0IsRUFBQyw0QkFBVUYsSUFBVixFQUFnQjtBQUMvQixRQUFJVixHQUFHLEdBQUcsS0FBS3RFLFdBQUwsQ0FBaUJPLE1BQTNCOztBQUNBLFNBQUssSUFBSXlGLENBQUMsR0FBRyxDQUFiLEVBQWdCQSxDQUFDLEdBQUcxQixHQUFwQixFQUF5QjBCLENBQUMsRUFBMUIsRUFBOEI7QUFDMUIsVUFBSXhFLENBQUMsR0FBRyxLQUFLeEIsV0FBTCxDQUFpQmdHLENBQWpCLENBQVI7O0FBQ0EsVUFBR3hFLENBQUMsQ0FBQ1QsRUFBRixLQUFTaUUsSUFBSSxDQUFDakUsRUFBakIsRUFBb0I7QUFDaEIsZUFBTyxJQUFQO0FBQ0g7QUFDSjs7QUFDRCxXQUFPLEtBQVA7QUFDSDtBQTVSSSxDQUFUIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgUGxheWFibGVTdGF0ZSA9IHJlcXVpcmUoJ1BsYXlhYmxlU3RhdGUnKTtcclxudmFyIFBvb2xIYW5kbGVyID0gcmVxdWlyZShcIlBvb2xIYW5kbGVyXCIpO1xyXG52YXIgQ0NhcmQgPSByZXF1aXJlKFwiQ0NhcmRcIik7XHJcbnZhciBDVGFibGUgPSByZXF1aXJlKFwiQ1RhYmxlXCIpO1xyXG52YXIgQ1BsYXllciA9IHJlcXVpcmUoXCJDUGxheWVyXCIpO1xyXG52YXIge0NhcmQsVGFibGUsUGxheWVyfSA9IHJlcXVpcmUoXCJUeXBlc1wiKTtcclxudmFyIHtBY3Rpb25UeXBlLEdhbWVGYWtlLFNvdW5kVHlwZX0gPSByZXF1aXJlKFwiR2FtZUZha2VcIik7XHJcbnZhciBQbGF5YWJsZUFkcyA9IHJlcXVpcmUoXCJQbGF5YWJsZUFkc1wiKTtcclxudmFyIENBdWRpbyA9IHJlcXVpcmUoXCJDQXVkaW9cIik7XHJcblxyXG5jYy5DbGFzcyh7XHJcbiAgICBleHRlbmRzICAgOiBjYy5Db21wb25lbnQsXHJcbiAgICBwcm9wZXJ0aWVzOiB7XHJcbiAgICAgICAgcGxheWFibGVTdGF0ZToge1xyXG4gICAgICAgICAgICBkZWZhdWx0ICAgICA6IG51bGwsXHJcbiAgICAgICAgICAgIHR5cGUgICAgICAgIDogUGxheWFibGVTdGF0ZSxcclxuICAgICAgICAgICAgc2VyaWFsaXphYmxlOiBmYWxzZSxcclxuICAgICAgICAgICAgdmlzaWJsZSAgICAgOiBmYWxzZVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgYnRuUGxheU5vdyAgIDogY2MuQnV0dG9uLFxyXG4gICAgICAgIGJ0bkR1bXAgICAgICA6IGNjLkJ1dHRvbixcclxuICAgICAgICBidG5QYXNzICAgICAgOiBjYy5CdXR0b24sXHJcbiAgICAgICAgbGF5ZXJHYW1lICAgIDogY2MuTm9kZSxcclxuICAgICAgICBsYXllckFjdGlvbiAgOiBjYy5Ob2RlLFxyXG4gICAgICAgIHRhYmxlOntcclxuICAgICAgICAgICAgZGVmYXVsdDpudWxsLFxyXG4gICAgICAgICAgICB0eXBlOmNjLk5vZGVcclxuICAgICAgICB9LFxyXG4gICAgICAgIHBsYXllcnMgIDoge1xyXG4gICAgICAgICAgICBkZWZhdWx0OiBbXSxcclxuICAgICAgICAgICAgdHlwZSAgIDogY2MuTm9kZVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgbGF5ZXJDYXJkOntcclxuICAgICAgICAgICAgZGVmYXVsdDpudWxsLFxyXG4gICAgICAgICAgICB0eXBlOmNjLk5vZGVcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBlZmZlY3RXaW46e1xyXG4gICAgICAgICAgICBkZWZhdWx0Om51bGwsXHJcbiAgICAgICAgICAgIHR5cGU6Y2MuTm9kZVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgY2FyZFByZWZhYjoge1xyXG4gICAgICAgICAgICBkZWZhdWx0OiBudWxsLFxyXG4gICAgICAgICAgICB0eXBlICAgOiBjYy5QcmVmYWJcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBfcG9vbENhcmQ6IHtcclxuICAgICAgICAgICAgZGVmYXVsdDogbnVsbCxcclxuICAgICAgICAgICAgdHlwZSAgIDogY2MuTm9kZVBvb2wsXHJcbiAgICAgICAgICAgIHZpc2libGU6ZmFsc2VcclxuICAgICAgICB9LFxyXG4gICAgICAgIF9nYW1lRmFrZTp7XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6bnVsbCxcclxuICAgICAgICAgICAgdHlwZTogR2FtZUZha2UsXHJcbiAgICAgICAgICAgIHZpc2libGU6ZmFsc2VcclxuICAgICAgICB9LFxyXG4gICAgfSxcclxuXHJcbiAgICBjdG9yOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdGhpcy5jdXJJbmRleCA9IC0xO1xyXG4gICAgICAgIHRoaXMuY2FyZEV4cGVjdHMgPSBbXTtcclxuICAgICAgICB0aGlzLnN0YXJ0UG9pbnRUb3VjaCA9IG51bGw7XHJcbiAgICAgICAgdGhpcy56SW5kZXhDYXJkID0gMTA7XHJcbiAgICAgICAgdGhpcy5hdWRpbyA9IG51bGw7XHJcbiAgICB9LFxyXG5cclxuICAgIG9uRW5hYmxlOmZ1bmN0aW9uKCl7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJvbkVuYWJsZSBwbGF5ZXJzOlwiICsgdGhpcy5wbGF5ZXJzLmxlbmd0aCk7XHJcbiAgICB9LFxyXG4gICAgb25Mb2FkOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdGhpcy5hdWRpbyA9IHRoaXMubm9kZS5nZXRDb21wb25lbnQoQ0F1ZGlvKTtcclxuICAgICAgICB0aGlzLmVmZmVjdFdpbi5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAvLzEuIGtob2kgdGFvIGluZm8gYmFuIGRhdVxyXG4gICAgICAgIHRoaXMuX3Bvb2xDYXJkID0gbmV3IGNjLk5vZGVQb29sKENDYXJkKTtcclxuICAgICAgICB0aGlzLl9nYW1lRmFrZSA9IG5ldyBHYW1lRmFrZSgpO1xyXG4gICAgICAgIHZhciBnYW1lSW5mbyA9IHRoaXMuX2dhbWVGYWtlLmdldERlZmF1bHRJbmZvKCk7XHJcbiAgICAgICAgdmFyIHRhYmxlQ29uZmlnID0gZ2FtZUluZm8udGFibGU7XHJcbiAgICAgICAgdmFyIHRhYmxlID0gbmV3IFRhYmxlKHRhYmxlQ29uZmlnLmlkLHRhYmxlQ29uZmlnLnN0YWtlLHRhYmxlQ29uZmlnLnBvdCk7XHJcbiAgICAgICAgdGhpcy50YWJsZS5nZXRDb21wb25lbnQoQ1RhYmxlKS5zZXRUYWJsZSh0YWJsZSk7XHJcblxyXG4gICAgICAgIC8vY3JlYXRlIG5ldyBDYXJkIG9uIERvY2tcclxuICAgICAgICB2YXIgY2FyZHMgPSB0YWJsZUNvbmZpZy5kb2NrO1xyXG4gICAgICAgIHZhciBjVGFibGUgPSB0aGlzLnRhYmxlLmdldENvbXBvbmVudChDVGFibGUpO1xyXG4gICAgICAgIGNUYWJsZS5zZXROdW1DYXJkKGNhcmRzLmxlbmd0aCk7XHJcbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBjYXJkcy5sZW5ndGg7IGorKykge1xyXG4gICAgICAgICAgICB2YXIgYyA9IGNhcmRzW2pdO1xyXG5cclxuICAgICAgICAgICAgdmFyIGNhcmRQcmVmYWJzID0gdGhpcy5fcG9vbENhcmQuZ2V0KCk7XHJcbiAgICAgICAgICAgIGlmKCFjYXJkUHJlZmFicyl7Y2FyZFByZWZhYnMgPSBjYy5pbnN0YW50aWF0ZSh0aGlzLmNhcmRQcmVmYWIpO31cclxuXHJcbiAgICAgICAgICAgIHZhciBjQ2FyZCA9IGNhcmRQcmVmYWJzLmdldENvbXBvbmVudChDQ2FyZCk7XHJcblxyXG4gICAgICAgICAgICBjQ2FyZC5zZXRDYXJkKGMpO1xyXG4gICAgICAgICAgICBjQ2FyZC5pbmRleCA9IChqKTtcclxuICAgICAgICAgICAgY0NhcmQuc2V0T3duZXIoY1RhYmxlKTtcclxuXHJcbiAgICAgICAgICAgIHZhciBwID0gY1RhYmxlLmdldFBvc2l0aW9uQ2FyZChjQ2FyZCk7XHJcbiAgICAgICAgICAgIGNhcmRQcmVmYWJzLnNldFBvc2l0aW9uKHApO1xyXG4gICAgICAgICAgICB0aGlzLmxheWVyQ2FyZC5hZGRDaGlsZChjYXJkUHJlZmFicyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnNvbGUubG9nKFwib25FbmFibGUgcGxheWVyczpcIiArIHRoaXMucGxheWVycy5sZW5ndGgpO1xyXG5cclxuICAgICAgICAvL3VwZGF0ZSBpbmZvIGF2YXRhclxyXG4gICAgICAgIHZhciBwbGF5ZXJzQ29uZmlnID0gZ2FtZUluZm8ucGxheWVycztcclxuICAgICAgICBmb3IgKHZhciBrID0gMDsgayA8IHBsYXllcnNDb25maWcubGVuZ3RoOyBrKyspIHtcclxuICAgICAgICAgICAgdmFyIHBsYXllckNvbmZpZyA9IHBsYXllcnNDb25maWdba107XHJcbiAgICAgICAgICAgIHZhciBwbGF5ZXIgPSBuZXcgUGxheWVyKHBsYXllckNvbmZpZy5pbmRleCxwbGF5ZXJDb25maWcuZGlzcGxheU5hbWUscGxheWVyQ29uZmlnLmdvbGQscGxheWVyQ29uZmlnLmF2YXRhckluZGV4LHBsYXllckNvbmZpZy5jYXJkcyk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiZ2V0IHBhbHllciBhdDpcIiArIHBsYXllci5pbmRleCk7XHJcbiAgICAgICAgICAgIHZhciBjUGxheWVyID0gdGhpcy5wbGF5ZXJzW3BsYXllci5pbmRleF0uZ2V0Q29tcG9uZW50KENQbGF5ZXIpO1xyXG4gICAgICAgICAgICBjUGxheWVyLnNldEdhbWVDb250cm9sbGVyKHRoaXMpO1xyXG4gICAgICAgICAgICBjUGxheWVyLnNldFBsYXllcihwbGF5ZXIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvL2xvYWQgcHJlZmFiIGNhcmRQcmVmYWJzXHJcbiAgICAgICAgLy8gY2MubG9hZGVyLmxvYWRSZXMoXCJwcmVmYWJzL2NhcmRQcmVmYWJcIiwgZnVuY3Rpb24gKGVyciwgcHJlZmFiKSB7XHJcbiAgICAgICAgLy8gICAgIHZhciBuZXdOb2RlID0gY2MuaW5zdGFudGlhdGUocHJlZmFiKTtcclxuICAgICAgICAvLyAgICAgbmV3Tm9kZS5zZXRQb3NpdGlvbigxMDAsMTAwKTtcclxuICAgICAgICAvLyAgICAgdGhpcy5sYXllckdhbWUuYWRkQ2hpbGQobmV3Tm9kZSk7XHJcbiAgICAgICAgLy8gICAgIC8vIGNjLmRpcmVjdG9yLmdldFNjZW5lKCkuYWRkQ2hpbGQobmV3Tm9kZSk7XHJcbiAgICAgICAgLy8gfS5iaW5kKHRoaXMpKTtcclxuICAgICAgICB0aGlzLm5vZGUub24oXCJjYXJkLXRvdWNoXCIsdGhpcy5vblRvdWNoQ2FyZCx0aGlzKTtcclxuXHJcbiAgICAgICAgdmFyIGFjdGlvbkNvbmZpZyA9IHRoaXMuX2dhbWVGYWtlLmdldEFjdGlvbigpO1xyXG4gICAgICAgIHZhciBkZWxheVRpbWUgPSBhY3Rpb25Db25maWcudGltZTtcclxuICAgICAgICBpZihkZWxheVRpbWU+MCl7XHJcbiAgICAgICAgICAgIHRoaXMuc2NoZWR1bGVPbmNlKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZXhlY3V0ZUFjdGlvbigpO1xyXG4gICAgICAgICAgICB9LmJpbmQodGhpcyksZGVsYXlUaW1lKTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgc3RhcnQ6ZnVuY3Rpb24oKXtcclxuXHJcbiAgICB9LFxyXG5cclxuICAgIGV4ZWN1dGVBY3Rpb246ZnVuY3Rpb24oKXtcclxuICAgICAgICB2YXIgYWN0aW9uQ29uZmlnID0gdGhpcy5fZ2FtZUZha2UuZ2V0QWN0aW9uKCk7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJleGVjdXRlQWN0aW9uOlwiICsgSlNPTi5zdHJpbmdpZnkoYWN0aW9uQ29uZmlnKSk7XHJcbiAgICAgICAgdmFyIGluZGV4ID0gYWN0aW9uQ29uZmlnLmluZGV4O1xyXG5cclxuICAgICAgICB2YXIgdHlwZSA9IGFjdGlvbkNvbmZpZy50eXBlO1xyXG4gICAgICAgIHN3aXRjaCAodHlwZSkge1xyXG4gICAgICAgICAgICBjYXNlIEFjdGlvblR5cGUuUEFTUzpcclxuICAgICAgICAgICAgICAgIHRoaXMub25QYXNzQXQoaW5kZXgpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgQWN0aW9uVHlwZS5ESVNDQVJEOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5vbkRpc2NhcmRBdChpbmRleCxhY3Rpb25Db25maWcuY2FyZHMpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBzb3VuZCA9IGFjdGlvbkNvbmZpZy5zb3VuZDtcclxuICAgICAgICBpZihzb3VuZCl7XHJcbiAgICAgICAgICAgIHRoaXMuYXVkaW8ucGxheUF1ZGlvKHNvdW5kKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYoYWN0aW9uQ29uZmlnLmlzRW5kZWQpe1xyXG4gICAgICAgICAgICB0aGlzLmVmZmVjdFdpbi5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICB0aGlzLmN1ckluZGV4ID0gYWN0aW9uQ29uZmlnLm5leHQ7XHJcbiAgICAgICAgICAgIHZhciBhY3Rpb25OZXh0ID0gdGhpcy5fZ2FtZUZha2UubmV4dCgpO1xyXG4gICAgICAgICAgICBpZihhY3Rpb25OZXh0KXtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiYWN0aW9uTmV4dDpcIiArIEpTT04uc3RyaW5naWZ5KGFjdGlvbk5leHQpKTtcclxuICAgICAgICAgICAgICAgIHZhciBkZWxheVRpbWUgPSBhY3Rpb25OZXh0LnRpbWU7XHJcbiAgICAgICAgICAgICAgICBpZihkZWxheVRpbWU+MCl7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zY2hlZHVsZU9uY2UoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgYWN0aW9uQ29uZmlnID0gdGhpcy5fZ2FtZUZha2UuZ2V0QWN0aW9uKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpbmRleCA9IGFjdGlvbkNvbmZpZy5pbmRleDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoaW5kZXggPT09IDAgKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKGFjdGlvbkNvbmZpZy5zdWdnZXN0KXsvL25ldSBjbyBzdWdnZXN0XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jYXJkRXhwZWN0cyA9IGFjdGlvbkNvbmZpZy5jYXJkcztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmV4ZWN1dGVBY3Rpb24oKTtcclxuICAgICAgICAgICAgICAgICAgICB9LmJpbmQodGhpcyksZGVsYXlUaW1lKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBvblBhc3NBdDpmdW5jdGlvbihpbmRleCl7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJvblBhc3NBdDpcIiArIGluZGV4KTtcclxuICAgICAgICB2YXIgY1BsYXllciA9IHRoaXMucGxheWVyc1tpbmRleF0uZ2V0Q29tcG9uZW50KENQbGF5ZXIpO1xyXG4gICAgICAgIGNQbGF5ZXIub25QYXNzKCk7XHJcbiAgICB9LFxyXG4gICAgb25EaXNjYXJkQXQ6ZnVuY3Rpb24oaW5kZXgsY2FyZHMpe1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwib25EaXNjYXJkQXQ6XCIgKyBpbmRleCArXCJ8XCIgKyBKU09OLnN0cmluZ2lmeShjYXJkcykpO1xyXG4gICAgICAgIHZhciBjVGFibGUgPSB0aGlzLnRhYmxlLmdldENvbXBvbmVudChDVGFibGUpO1xyXG4gICAgICAgIHZhciBjYXJkUHJlZmFicyA9IHRoaXMucGxheWVyc1tpbmRleF0uZ2V0Q29tcG9uZW50KENQbGF5ZXIpLm9uRGlzY2FyZChjYXJkcyk7XHJcblxyXG4gICAgICAgIHZhciBsZW4gPSBjYXJkUHJlZmFicy5sZW5ndGg7XHJcbiAgICAgICAgY1RhYmxlLnNldE51bUNhcmQobGVuKTtcclxuICAgICAgICBmb3IgKHZhciBrID0gMDsgayA8IGxlbjsgaysrKSB7XHJcbiAgICAgICAgICAgIHZhciBjYXJkUHJlZmFiID0gY2FyZFByZWZhYnNba107XHJcbiAgICAgICAgICAgIHZhciBjQ2FyZCA9IGNhcmRQcmVmYWIuZ2V0Q29tcG9uZW50KENDYXJkKTtcclxuICAgICAgICAgICAgY0NhcmQuaW5kZXggPSAoayk7XHJcbiAgICAgICAgICAgIGNDYXJkLm93bmVyID0gY1RhYmxlO1xyXG4gICAgICAgICAgICB2YXIgcCA9IGNUYWJsZS5nZXRQb3NpdGlvbkNhcmQoY0NhcmQpO1xyXG4gICAgICAgICAgICBjYXJkUHJlZmFiLnpJbmRleCA9ICsrIHRoaXMuekluZGV4Q2FyZDtcclxuICAgICAgICAgICAgLy8gY2FyZFByZWZhYi5zZXRQb3NpdGlvbihwKTtcclxuICAgICAgICAgICAgY2FyZFByZWZhYi5ydW5BY3Rpb24oY2Muc3Bhd24oXHJcbiAgICAgICAgICAgICAgICBjYy5tb3ZlVG8oMSxwKSxcclxuICAgICAgICAgICAgICAgIGNjLnJvdGF0ZVRvKDEsMClcclxuICAgICAgICAgICAgKSk7XHJcbiAgICAgICAgICAgIGNjLmxvZyhcIm5ld1pJbmRleDpcIiArIHRoaXMuekluZGV4Q2FyZClcclxuO1xyXG4gICAgICAgICAgICAvLyB0aGlzLmxheWVyR2FtZS5hZGRDaGlsZChjYXJkUHJlZmFiKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIGZvciAodmFyIGogPSAwOyBqIDwgY2FyZHMubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICAvLyAgICAgdmFyIGMgPSBjYXJkc1tqXTtcclxuICAgICAgICAvL1xyXG4gICAgICAgIC8vICAgICB2YXIgY2FyZFByZWZhYnMgPSB0aGlzLl9wb29sQ2FyZC5nZXQoKTtcclxuICAgICAgICAvLyAgICAgaWYoIWNhcmRQcmVmYWJzKXtjYXJkUHJlZmFicyA9IGNjLmluc3RhbnRpYXRlKHRoaXMuY2FyZFByZWZhYik7fVxyXG4gICAgICAgIC8vXHJcbiAgICAgICAgLy8gICAgIHZhciBjQ2FyZCA9IGNhcmRQcmVmYWJzLmdldENvbXBvbmVudChDQ2FyZCk7XHJcbiAgICAgICAgLy9cclxuICAgICAgICAvLyAgICAgY0NhcmQuc2V0Q2FyZChjKTtcclxuICAgICAgICAvLyAgICAgY0NhcmQuaW5kZXggPSAoaik7XHJcbiAgICAgICAgLy8gICAgIGNDYXJkLm93bmVyID0gY1RhYmxlO1xyXG4gICAgICAgIC8vXHJcbiAgICAgICAgLy8gICAgIHZhciBwID0gY1RhYmxlLmdldFBvc2l0aW9uQ2FyZChjQ2FyZCk7XHJcbiAgICAgICAgLy8gICAgIGNhcmRQcmVmYWJzLnNldFBvc2l0aW9uKHApO1xyXG4gICAgICAgIC8vICAgICB0aGlzLmxheWVyR2FtZS5hZGRDaGlsZChjYXJkUHJlZmFicyk7XHJcbiAgICAgICAgLy8gfVxyXG4gICAgfSxcclxuXHJcbiAgICBvblRvdWNoQ2FyZDpmdW5jdGlvbihldmVudCl7XHJcbiAgICAgICAgdmFyIGRhdGEgPSBldmVudC5nZXRVc2VyRGF0YSgpO1xyXG4gICAgICAgIHZhciBjQ2FyZCA9IGRhdGEuY2FyZDtcclxuICAgICAgICB2YXIgb3duZXIgPSBjQ2FyZC5vd25lcjtcclxuICAgICAgICBpZihvd25lciBpbnN0YW5jZW9mIENUYWJsZSl7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwicGFzc2luZyBjYXJkIG9uIHRhYmxlXCIpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmKG93bmVyIGluc3RhbmNlb2YgQ1BsYXllcil7XHJcbiAgICAgICAgICAgIGlmKHRoaXMuaXNNeVR1cm4oKSl7XHJcbiAgICAgICAgICAgICAgICBpZih0aGlzLmlzVG91Y2hFeHBlY3RDYXJkcyhjQ2FyZC5jYXJkKSl7XHJcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChkYXRhLmV2ZW50LnR5cGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBjYy5Ob2RlLkV2ZW50VHlwZS5UT1VDSF9TVEFSVDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhcnRQb2ludFRvdWNoID0gZGF0YS5ldmVudC5nZXRMb2NhdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgY2MuTm9kZS5FdmVudFR5cGUuVE9VQ0hfTU9WRTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIGNjLk5vZGUuRXZlbnRUeXBlLlRPVUNIX0VORDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBjYy5Ob2RlLkV2ZW50VHlwZS5UT1VDSF9DQU5DRUw6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcG9zID0gZGF0YS5ldmVudC5nZXRMb2NhdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYocG9zLnkgLSB0aGlzLnN0YXJ0UG9pbnRUb3VjaC55ID4gNDUpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZXhlY3V0ZUFjdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNjLmxvZyhcIkRpc2NhcmQgb24gbXkgdHVyblwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNjLmxvZyhcIiEhRGlzY2FyZCBvbiBteSB0dXJuXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2MubG9nKFwidG91Y2g6XCIgKyBKU09OLnN0cmluZ2lmeSh0aGlzLnN0YXJ0UG9pbnRUb3VjaCkgK1wifCBcIisgSlNPTi5zdHJpbmdpZnkocG9zKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgIGNjLmxvZyhcIm5vdCBleHBlY3RzIGNhcmRcIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgY2MubG9nKFwibm90IG15IHR1cm5cIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gb3duZXIub25Ub3VjaENhcmQoZGF0YS5ldmVudCxkYXRhLmNhcmQpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKFwib25Ub3VjaENhcmQgYXQgY29udHJvbGVyXCIpO1xyXG4gICAgfSxcclxuXHJcbiAgICBvblBsYXlOb3c6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIm9uUGxheSBwYXRoIG1haW5cIik7XHJcbiAgICAgICAgUGxheWFibGVBZHMub25DVEFDbGljaygpO1xyXG4gICAgfSxcclxuXHJcbiAgICBvblRvdWNoRHVtcDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwidG91Y2ggRHVtcFwiKTtcclxuICAgIH0sXHJcblxyXG4gICAgb25Ub3VjaFBhc3M6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhcInRvdWNoIFBhc3NcIik7XHJcbiAgICB9LFxyXG5cclxuICAgIGdldE5ld0NhcmQ6ZnVuY3Rpb24oKXtcclxuICAgICAgICB2YXIgY2FyZFByZWZhYiA9IHRoaXMuX3Bvb2xDYXJkLmdldCgpO1xyXG4gICAgICAgIGlmKCFjYXJkUHJlZmFiKXtjYXJkUHJlZmFiID0gY2MuaW5zdGFudGlhdGUodGhpcy5jYXJkUHJlZmFiKTt9XHJcbiAgICAgICAgcmV0dXJuIGNhcmRQcmVmYWI7XHJcbiAgICB9LFxyXG5cclxuICAgIGlzTXlUdXJuOmZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5jdXJJbmRleCA9PT0gMDtcclxuICAgIH0sXHJcbiAgICBpc1RvdWNoRXhwZWN0Q2FyZHM6ZnVuY3Rpb24gKGNhcmQpIHtcclxuICAgICAgICB2YXIgbGVuID0gdGhpcy5jYXJkRXhwZWN0cy5sZW5ndGg7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKykge1xyXG4gICAgICAgICAgICB2YXIgYyA9IHRoaXMuY2FyZEV4cGVjdHNbaV07XHJcbiAgICAgICAgICAgIGlmKGMuaWQgPT09IGNhcmQuaWQpe1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG59KTsiXX0=